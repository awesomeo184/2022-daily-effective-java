### 최적화 관련 띵언 3가지

---

> 그 어떤 핑계보다 효율성이라는 이름 아래 행해진 컴퓨팅 죄악이 더 많다.
> 

> 자그마한 효율성은 모두 잊자. 섣부른 최적화가 만악의 근원이다.
> 

> 최적화를 할 때는 다음 두 규칙을 따르라.
첫 번째, `하지 마라.`
두 번째, `아직 하지 마라.`
다시 말해 완전히 명백하고 최적화되지 않은 해법을 찾을 때 까지는 `하지 마라.`
> 

### 결론

---

- 빠른 프로그램 < 좋은 프로그램
    - 좋은 프로그램은 `정보 은닉 원칙`을 따르므로 개별 구성요소의 `내부를 독립적으로 설계 가능`,
    - 따라서 `각 요소를 따로 다시 설계`할 수 있다.

- 그럼 앞으로는 성능은 무시하고 코딩하면 되겠네🤪
    - 🤢🤮 구현상의 문제는 추후 최적화가 가능하지만, `아키텍처의 결함`이 `성능을 제한하는 상황`이라면 시스템 전체를 다시 작성해야만 하는 문제가 있을 수 있다.
    - `설계 단계`에서는 성능을 반드시 염두에 두어야 한다.

### 그러면??

---

1. **성능을 제한하는 설계를 피하자.**
    - API, 네트워크 프로토콜, 영구 저장용 데이터 포맷
    - 완성 후에 변경하기 어렵거나 불가능하다.
2. **API 설계 시 성능에 주는 영향 고려**
    
    ### 예시
    
    ---
    
    - (아이템 50) 불필요한 방어적 복사로 인해 성능이 저하될 수 있다.
    - (아이템 64) 인터페이스가 있는데 구현 타입을 쓰는건 좋지 않다.
3. **각각의 최적화 시도 전후로 성능을 측정하라.**
    - 최적화 시도 전보다 후가 성능이 더 안좋아 질 수도 있다😢
    - `프로파일링 도구`는 최적화 노력을 어디에 집중해야 할지 찾는데 도움을 준다.
        - 개별 메서드 소비 시간, 호출 횟수같은 런타임 정보 제공

### 결론(2)

---

- 빠른 프로그램을 작성하려 안달하지 말자.
    - 좋은 프로그램을 작성하면 성능은 따라온다.
    - 근데 또 시스템을 설계할 때는 성능을 염두에 두자.
- 시스템 구현을 완료했다면 성능을 측정해 보고, 충분히 빠르면 끝😆
